/* 設定整個頁面的基本樣式 */
body {
  font-family: sans-serif;       /* 使用無襯線字體 */
  text-align: center;            /* 文字置中 */
  background-color: #f5f5f5;     /* 淺灰背景 */
  margin: 0;                     /* 移除預設邊距 */
  padding: 40px;                 /* 四周留白 */
}

/* 二選一區塊 */
#battle {
  display: flex;                /* 使用彈性排版 */
  justify-content: center;      /* 水平置中 */
  align-items: center;          /* 垂直置中 */
  gap: 20px;                    /* 元素之間距離 */
  margin-top: 40px;             /* 與上方距離 */
}

/* 所有按鈕的樣式 */
button {
  padding: 20px 30px;           /* 按鈕內距 */
  font-size: 18px;              /* 文字大小 */
  cursor: pointer;              /* 滑鼠變手指 */
  border-radius: 8px;           /* 圓角 */
  border: none;                 /* 移除邊框 */
  background-color: white;      /* 白色背景 */
  box-shadow: 0 2px 6px rgba(0,0,0,0.2); /* 陰影 */
}

/* 滑鼠移上去的效果 */
button:hover {
  background-color: #eaeaea;    /* 背景變深 */
}

/* 排名結果區 */
#result {
  margin-top: 50px;             /* 與上方距離 */
}
// 使用者選擇後要做的事情
function choose(winner, loser) {

  // 更新 Elo 分數
  updateElo(winner, loser);

  // 題目數 +1
  rounds++;

  // 如果已經達到題目上限
  if (rounds >= MAX_ROUNDS) {
    showResult();   // 顯示結果
  } else {
    nextBattle();  // 繼續下一題
  }
}

/* ===============================
   顯示最終排名
   =============================== */

function showResult() {

  // 隱藏二選一畫面
  document.getElementById("battle").hidden = true;

  // 顯示結果畫面
  document.getElementById("result").hidden = false;

  // 依照分數由高到低排序
  const sorted = [...characters].sort(
    (a, b) => b.rating - a.rating
  );

  // 取得排名清單容器
  const list = document.getElementById("ranking");

  // 清空舊內容（保險用）
  list.innerHTML = "";

  // 逐一加入排名項目
  sorted.forEach(char => {

    // 建立一個 li
    const li = document.createElement("li");

    // 顯示角色名稱與分數
    li.textContent =
      `${char.name}（分數：${Math.round(char.rating)}）`;

    // 加入清單
    list.appendChild(li);
  });
}

/* ===============================
   啟動第一題
   =============================== */

// 頁面載入後立即出第一題
nextBattle();
